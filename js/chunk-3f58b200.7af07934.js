(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f58b200"],{"0b8c":function(t,e,s){t.exports=s.p+"img/forbidden-icon.c9f3842a.svg"},"120d":function(t,e,s){},"372f":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overview"},["course"===t.data.type?e("div",{staticClass:"overview_title"},[t._v(" "+t._s(t.data.title)+" ")]):e("div",{staticClass:"chapter",on:{click:function(e){return t.$router.back()}}},[e("img",{attrs:{src:s("9ebb"),alt:"arrow-left"}}),t._v(" "+t._s(t.data.title)+" ")]),e("div",{staticClass:"overview_list"},[t._l(t.data.menu,(function(s,i){return e("div",["module"!==s.type?e("div",{staticClass:"overview_item",class:{active:t.currentStage.index===i&&"stage"===t.currentStage.type},on:{click:function(e){return t.onChangeStage(i,"stage")}}},[e("div",{staticClass:"name"},[t._v(" "+t._s(s.name)+" ")])]):t._l(s.modules,(function(s,i){return e("div",{staticClass:"overview_item",class:{active:t.currentStage.index===i&&"module"===t.currentStage.type},on:{click:function(e){return t.onChangeStage(i,"module")}}},[e("div",{staticClass:"name"},[t._v(" "+t._s(s.title)+" ")])])}))],2)})),t.data.topics?t._l(t.data.topics,(function(s,i){return e("div",{staticClass:"topic",class:{active:i===t.currentTopicIndex},on:{click:function(e){return t.toggleTopic(i)}}},[e("div",{staticClass:"topic_header"},[e("div",{staticClass:"name"},[t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"icon"},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M3.75 7.5L10 13.75L16.25 7.5",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),t.currentStage.index>=0?e("div",{staticClass:"topic_body"},[t._l(s["materials"],(function(s,a){return e("div",{staticClass:"topic_item",class:{active:t.currentStage.chapterIndex===a&&t.currentTopicIndex===t.currentStage.index&&"chapter"===t.currentStateType},on:{click:function(e){return e.stopPropagation(),t.onChangeStage(i,"chapter",a)}}},["text"===s.type?e("div",{staticClass:"icon"},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M16.875 3.75H3.125C2.77982 3.75 2.5 4.02982 2.5 4.375V15.625C2.5 15.9702 2.77982 16.25 3.125 16.25H16.875C17.2202 16.25 17.5 15.9702 17.5 15.625V4.375C17.5 4.02982 17.2202 3.75 16.875 3.75Z",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M5.9375 7.5H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M5.9375 10H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M5.9375 12.5H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]):"audio"===s.type?e("div",{staticClass:"icon"},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.66602 4.16683C1.66602 3.70659 2.03911 3.3335 2.49935 3.3335H17.4993C17.9596 3.3335 18.3327 3.70659 18.3327 4.16683V15.8335C18.3327 16.2937 17.9596 16.6668 17.4993 16.6668H2.49935C2.03911 16.6668 1.66602 16.2937 1.66602 15.8335V4.16683Z",stroke:"#0B1F35","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M15 3.3335V16.6668",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M5 3.3335V16.6668",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M15.834 7.5H18.334",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M15.834 12.5H18.334",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M1.66602 7.5H4.16602",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M1.66602 12.5H4.16602",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M8.75 7.9165L12.0833 9.99984L8.75 12.0832V7.9165Z",stroke:"#0B1F35","stroke-linejoin":"round"}})])]):"presentation"===s.type?e("div",{staticClass:"icon"},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.66602 3.3335H18.3327",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.33398 3.3335H16.6673V14.1668H3.33398V3.3335Z",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M12.916 7.5L14.166 8.75L12.916 10",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M7.08398 10L5.83398 8.75L7.08398 7.5",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M6.66602 17.4998L9.99935 14.1665L13.3327 17.4998",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])]):t._e(),e("div",{staticClass:"text"},[t._v(" "+t._s(s.title)+" ")])])})),t._l(s["quizzes"],(function(s,a){return e("div",{staticClass:"topic_item",class:{active:t.currentStage.chapterIndex===a&&t.currentTopicIndex===t.currentStage.index&&"quiz"===t.currentStateType},on:{click:function(e){return e.stopPropagation(),t.onChangeStage(i,"quiz",a)}}},[e("div",{staticClass:"icon"},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M7.5 16.8749H3.75C3.58424 16.8749 3.42527 16.8091 3.30806 16.6918C3.19085 16.5746 3.125 16.4157 3.125 16.2499V12.7588C3.125 12.6767 3.14117 12.5954 3.17258 12.5196C3.20398 12.4438 3.25002 12.3749 3.30806 12.3168L12.6831 2.94185C12.8003 2.82464 12.9592 2.75879 13.125 2.75879C13.2908 2.75879 13.4497 2.82464 13.5669 2.94185L17.0581 6.43296C17.1753 6.55017 17.2411 6.70915 17.2411 6.87491C17.2411 7.04067 17.1753 7.19964 17.0581 7.31685L7.5 16.8749Z",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M10.625 5L15 9.375",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e("div",{staticClass:"text"},[t._v(" "+t._s(s.title)+" ")])])}))],2):t._e()])})):t._e()],2)])},a=[],n={props:["data","currentStage"],data(){return{currentTopicIndex:0,currentStateType:"chapter"}},watch:{"currentStage.index"(t){this.changeRouteQuery(this.currentStage.index,this.currentStage.type,this.currentStage.chapterIndex),this.data.topics&&(this.currentTopicIndex=t)}},methods:{toggleTopic(t){this.currentTopicIndex===t?this.currentTopicIndex=-1:this.currentTopicIndex=t},onChangeStage(t,e,s=null){this.currentStateType=e,this.changeRouteQuery(t,e,s),this.$emit("currentMenu",{index:t,type:e,chapterIndex:s})},changeRouteQuery(t,e,s=null){let i={page:t,type:e};s&&(i.chapter=s),this.$router.replace({query:i}).catch(()=>{})}}},r=n,o=(s("efe0"),s("2877")),u=Object(o["a"])(r,i,a,!1,null,"34ad3ab5",null);e["a"]=u.exports},"52fb":function(t,e,s){"use strict";s("9791")},6091:function(t,e,s){"use strict";s("f44b")},"737f":function(t,e,s){t.exports=s.p+"img/rotation-icon.d8986ab9.svg"},"73fb":function(t,e,s){t.exports=s.p+"img/close-icon.aa4fd02b.svg"},"74bf":function(t,e,s){t.exports=s.p+"img/check.fba8d67a.svg"},"87e7":function(t,e,s){t.exports=s.p+"img/info-icon.3a2f1102.svg"},9791:function(t,e,s){},"9ebb":function(t,e,s){t.exports=s.p+"img/arrow-left-chapter.a3984594.svg"},a397:function(t,e,s){"use strict";s.r(e);var i=function(){var t,e=this,s=e._self._c;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"course"},[e.currentStageData?s("div",{staticClass:"course_body"},["about"===e.currentStageData.type?s("About",{attrs:{description:e.course["detail"]},on:{next:e.goToModules}}):"module"===e.currentStageData.type?s("Module",{attrs:{courseData:e.currentModuleData["themes"],testing:e.currentModuleData["quiz"],slug:e.course.slug,disabledNextBtn:e.disabledNextBtn},on:{next:e.nextModule,prev:e.prevModule}}):"final"===e.currentStageData.type?s("Final",{attrs:{quiz:null===(t=e.currentStageData)||void 0===t?void 0:t.quiz}}):e._e()],1):e._e(),s("SideMenu",{attrs:{data:e.getMenuData,currentStage:e.sidemenu},on:{currentMenu:e.currentMenu}})],1)},a=[],n=(s("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("div",{staticClass:"course-about-page"},[e("h5",[t._v("О курсе")]),e("div",{staticClass:"course-details-wrapper",domProps:{innerHTML:t._s(t.description)}})]),e("button",{staticClass:"course-details-next-btn",on:{click:function(e){return t.$emit("next")}}},[t._v("Далее")])])}),r=[],o={props:{description:{type:String,default:""}},emits:["next"]},u=o,c=(s("bd9a"),s("2877")),l=Object(c["a"])(u,n,r,!1,null,null,null),d=l.exports,p=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"module"},[e("div",{staticClass:"module_item",class:{active:t.active,success:t.success,forbidden:t.forbidden,fail:t.fail}},[t.fail?t._e():e("div",{staticClass:"top-hint duration"},[t._v("60 минут")]),t.fail?e("div",{staticClass:"top-hint result-hint"},[t._v(" Результат: ")]):t._e(),e("div",{staticClass:"module_item_status"},[e("div",[t.active?e("img",{attrs:{src:s("737f"),alt:""}}):t._e(),t.success?e("img",{attrs:{src:s("74bf"),alt:""}}):t._e(),t.forbidden?e("img",{attrs:{src:s("0b8c"),alt:""}}):t._e(),t.fail?e("img",{attrs:{src:s("73fb"),alt:""}}):t._e()])]),e("div",{staticClass:"module_item_info"},[e("div",{staticClass:"name"},[t._v(" "+t._s(t.quiz["title"])+" ")]),t.quiz["available"]?e("div",{staticClass:"buttons"},[t.success?e("button",{staticClass:"btn"},[t._v("Пройдено")]):t._e(),t.fail?e("button",{staticClass:"btn"},[t._v("Не пройдено")]):t._e(),!t.fail&&t.canStart?e("router-link",{staticClass:"btn",attrs:{to:{name:"course-exercise",params:{slug:t.$route.params.slug,quiz:t.quiz["id"]},query:{page:t.$route.query.page,type:t.$route.query.type}}}},[t._v("Начать")]):t._e()],1):t._e(),t.fail?e("div",{staticClass:"passing_score"},[t._v(" Проходной балл: "+t._s(t.quiz["passing_score"])+" ")]):t._e(),t.fail&&t.quiz["can_refresh"]?e("router-link",{staticClass:"retry",attrs:{to:{name:"course-exercise",params:{slug:t.$route.params.slug,quiz:t.quiz["id"]},query:{page:t.$route.query.page,type:t.$route.query.type}}}},[t._v("Пройти еще раз")]):t._e(),t.success||t.fail?e("div",{staticClass:"result"},[t._v(" "+t._s(t.quiz["percent"])+"% ")]):t._e(),t.quiz["available"]?t._e():e("div",{staticClass:"info"},[e("div",{staticClass:"info_text"},[t._v(" Вы не можете начать, пока не закончите предыдущую тему ")]),e("img",{staticClass:"info_icon",attrs:{src:s("87e7"),alt:""}})])],1)])]),e("div",{staticClass:"final-description"},[e("div",{staticClass:"hint",domProps:{innerHTML:t._s(t.quiz["quiz_rules"])}})])])},h=[],g={name:"Final",props:{quiz:{type:Object,default:{}}},computed:{active(){return this.quiz["available"]&&!this.quiz["user_answered"]},success(){return this.quiz["available"]&&this.quiz["user_result"]>=this.quiz["passing_score"]},forbidden(){return!this.quiz["available"]},fail(){return this.quiz["user_answered"]&&this.quiz["user_result"]<this.quiz["passing_score"]},canStart(){return this.quiz["user_result"]<this.quiz["passing_score"]}}},v=g,m=(s("6091"),Object(c["a"])(v,p,h,!1,null,"b337ec4c",null)),_=m.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"module"},[t._l(t.courseData,(function(i){return e("div",{staticClass:"module_item",class:{active:i.progress>=0&&!i.score,noaccess:!i.available},on:{click:function(e){i.available&&t.openChapter(i)}}},[e("div",{staticClass:"module_item_status"},[i.score?e("div",[t._v(" ✌️ ")]):i.progress>=0?e("div",[e("img",{attrs:{src:s("737f"),alt:""}})]):i.available?t._e():e("div",[e("img",{attrs:{src:s("73fb"),alt:""}})])]),e("div",{staticClass:"module_item_info"},[e("div",{staticClass:"name"},[t._v(" "+t._s(i.name)+" ")]),i.available?e("div",{staticClass:"buttons"},[i.progress>=0&&0===i.result?[e("div",{staticClass:"process"},[e("div",{staticClass:"process_finished",style:"width:"+i.progress+"%"},[t._v(" В процессе ")]),e("div",{staticClass:"process_score"},[t._v(" "+t._s(i.progress)+"% ")])])]:[e("button",{staticClass:"btn"},[t._v(" Пройдено ")]),i.score?e("button",{staticClass:"btn success"},[t._v(" Результат: "+t._s(i.score)+"% ")]):t._e()]],2):e("div",{staticClass:"info"},[e("div",{staticClass:"info_text"},[t._v(" Вы не можете начать, пока не закончите предыдущую тему ")]),e("img",{staticClass:"info_icon",attrs:{src:s("87e7"),alt:""}})])])])})),e("div",{staticClass:"text-center"},[t.testing?t._e():e("button",{staticClass:"course-details-prev-btn",on:{click:function(e){return t.$emit("prev")}}},[t._v("Назад")]),t.testing||t.disabledNextBtn?t._e():e("button",{staticClass:"course-details-next-btn",on:{click:function(e){return t.$emit("next")}}},[t._v("Далее")])]),t.testing?e("div",{staticClass:"module_item testing",class:{active:t.testing.available&&0===t.testing.score,success:t.testResult,fail:t.testing.score>0&&!t.testResult,noaccess:!t.testing.available}},[e("div",{staticClass:"module_item_status"},[t.testing.available?0===t.testing.score?e("div",[e("img",{attrs:{src:s("737f"),alt:""}})]):t.testResult?e("div",[e("img",{attrs:{src:s("f28b"),alt:""}})]):e("div"):e("div",[e("img",{attrs:{src:s("73fb"),alt:""}})])]),e("div",{staticClass:"module_item_info"},[e("div",{staticClass:"name"},[t._v(" Тестирование ")]),t.testing.available?e("div",{staticClass:"buttons"},[e("router-link",{staticClass:"btn",attrs:{to:{name:"course-exercise",params:{slug:t.slug,quiz:t.testing.id},query:{page:t.$route.query.page,type:t.$route.query.type}}}},[t._v(" Начать ")]),t._e(),t._e(),t.testing.score>0?e("div",{staticClass:"test-result"},[e("div",{staticClass:"test-result_item"},[t._v(" Пройдено: "+t._s(t.testing["passedDate"])+" ")]),e("span"),e("div",{staticClass:"test-result_item"},[t._v(" Проходной балл: "+t._s(t.testing["minScore"])+"% ")])]):t._e(),t.testing.score>0&&t.testing.score<t.testing["minScore"]?e("div",{staticClass:"retry"},[t._v(" Пройти еще раз ")]):t._e(),t.testing.score>0?e("div",{staticClass:"result"},[t._v(" "+t._s(t.testing.score)+"% ")]):t._e()],1):e("div",{staticClass:"info"},[e("div",{staticClass:"info_text"},[t._v(" Вы не можете начать, пока не закончите предыдущую тему ")]),e("img",{staticClass:"info_icon",attrs:{src:s("87e7"),alt:""}})])])]):t._e()],2)},C=[],x={props:["courseData","slug","testing","disabledNextBtn"],emits:["next"],computed:{testResult(){var t,e;return(null===(t=this.testing)||void 0===t?void 0:t.score)>=(null===(e=this.testing)||void 0===e?void 0:e.minScore)}},methods:{openChapter(t){this.$router.push({name:"course-chapter",params:{slug:this.slug,chapter:t["chapter_id"]}})}}},b=x,k=(s("52fb"),Object(c["a"])(b,f,C,!1,null,"647be9c8",null)),y=k.exports,w=s("372f"),q={components:{About:d,Module:y,Final:_,SideMenu:w["a"]},name:"Course",data(){return{loading:!1,disabledNextBtn:!1,currentStageData:null,currentModuleData:null,sidemenu:{index:0,type:"stage",chapterIndex:null},course:{},stages:[{type:"about",name:"О курсе",text:"lorem"}]}},async mounted(){const t=this.$route.query.page,e=this.$route.query.type;t&&(this.sidemenu.index=Number(t)||0),e&&(this.sidemenu.type=e),await this.getCourseDetails(),this.currentMenu(this.sidemenu)},methods:{async getCourseDetails(){this.loading=!0;let t=API_ROOT,e=this.$route.params.slug;await this.$http.get(`${t}/api/course/${e}`).then(t=>{var e,s,i;(this.course=null===t||void 0===t?void 0:t.body,this.stages.push({type:"module",modules:null===t||void 0===t||null===(e=t.body)||void 0===e?void 0:e.modules}),null!==t&&void 0!==t&&null!==(s=t.body)&&void 0!==s&&s.quiz)&&this.stages.push({name:"Итоговое тестирование",type:"final",quiz:null===t||void 0===t||null===(i=t.body)||void 0===i?void 0:i.quiz})}).catch(t=>{404===t.status&&this.$router.push({name:"not-found"}),console.log(t)}).finally(()=>{this.loading=!1})},goToModules(){this.sidemenu.index=0,this.sidemenu.type="module",this.chapterIndex=null;const t=this.stages.findIndex(t=>"module"===t.type);this.currentStageData=this.stages[t],this.currentModuleData=this.stages[t].modules[0],this.changeRouteQuery(0,"module",null)},goToStage(){this.sidemenu.index=0,this.sidemenu.type="stage",this.chapterIndex=null,this.currentStageData=this.stages[0],this.currentModuleData=null,this.changeRouteQuery(0,"stage",null)},nextModule(){this.disabledNextBtn=!1;const t=this.stages.findIndex(t=>"module"===t.type);this.stages[t].modules.length-1===this.sidemenu.index+1&&(this.disabledNextBtn=!0),this.stages[t].modules.length<=this.sidemenu.index+1||(this.sidemenu.index++,this.sidemenu.type="module",this.chapterIndex=null,this.currentStageData=this.stages[t],this.currentModuleData=this.stages[t].modules[this.sidemenu.index],this.changeRouteQuery(this.sidemenu.index,"module",null))},prevModule(){const t=this.stages.findIndex(t=>"module"===t.type);this.stages[t].modules.length>=this.sidemenu.index+1&&(this.disabledNextBtn=!1),this.sidemenu.index?(this.sidemenu.index--,this.sidemenu.type="module",this.chapterIndex=null,this.currentStageData=this.stages[t],this.currentModuleData=this.stages[t].modules[this.sidemenu.index],this.changeRouteQuery(this.sidemenu.index,"module",null)):this.goToStage()},changeRouteQuery(t,e,s=null){let i={page:t,type:e};s&&(i.chapter=s),this.$router.replace({query:i}).catch(()=>{})},currentMenu(t){if(this.sidemenu.index=t.index,this.sidemenu.type=t.type,this.chapterIndex=t.chapterIndex,"stage"===t.type)this.currentStageData=this.stages[t.index];else if("module"===t.type){const e=this.stages.findIndex(t=>"module"===t.type);this.currentStageData=this.stages[e],this.currentModuleData=this.stages[e].modules[t.index]}}},computed:{getMenuData(){return{title:this.course.title,type:"course",menu:this.stages,topics:null}}}},M=q,S=(s("daa9"),Object(c["a"])(M,i,a,!1,null,"88cfccea",null));e["default"]=S.exports},b8d9:function(t,e,s){},bd9a:function(t,e,s){"use strict";s("d78b")},d78b:function(t,e,s){},daa9:function(t,e,s){"use strict";s("b8d9")},efe0:function(t,e,s){"use strict";s("120d")},f28b:function(t,e,s){t.exports=s.p+"img/success-icon.de95483b.svg"},f44b:function(t,e,s){}}]);
//# sourceMappingURL=chunk-3f58b200.7af07934.js.map