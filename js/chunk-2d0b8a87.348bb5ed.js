(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8a87"],{"302f":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"news_block"},[s("SliderNews"),s("div",{staticClass:"news_list_block"},[s("div",{staticClass:"news_list_container"},[s("div",{staticClass:"news_list_desc"},t._l(t.news,(function(a){return s("div",{staticClass:"news_list_item"},[s("img",{attrs:{src:a.image?t.getImagePath(a.image.path):"",alt:"Изобрражение новости"}}),s("div",{staticClass:"news_list_item_desc"},[s("div",{staticClass:"news_list_item_title"},[t._v(" "+t._s(a.translations.find(({locale:s})=>s===t.currentLocale).title)+" ")]),s("div",{staticClass:"news_list_item_about"},[t._v(" "+t._s(a.translations.find(({locale:s})=>s===t.currentLocale).anons)+" ")]),s("div",{staticClass:"news_list_item_date"},[t._v(t._s(t.$t("published"))+": "+t._s(t._f("formatDate")(a.published_date,"DD.MM.YY")))]),s("router-link",{staticClass:"news_list_item_btn_more",attrs:{to:{name:"news-item",params:{id:a.id}},exact:""}},[s("span",[t._v(t._s(t.$t("more")))])])],1)])})),0),t.nextPageApiUrl?s("div",{staticClass:"news_list_load_more",on:{click:t.loadMore}},[t._v(" Загрузить ещё ")]):t._e()])])],1)},i=[],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"news_slider_block"},[s("div",{staticClass:"news_slider_container"},[s("div",{staticClass:"news_slider_arrow_left",on:{click:t.prevPage}}),s("div",{staticClass:"news_slider_arrow_right",on:{click:t.nextPage}}),s("carousel",{attrs:{"per-page":1,navigationNextLabel:"next",paginationActiveColor:"#6F4189",paginationColor:"white",navigateTo:t.manualNavigation}},t._l(t.news,(function(a){return s("slide",[s("div",{staticClass:"news_slider_item"},[s("div",{staticClass:"news_slider_title"},[t._v(t._s(t.$t("header.news")))]),s("div",{staticClass:"news_slider_info_block"},[s("div",{staticClass:"news_slider_date"},[t._v(t._s(t.$t("published"))+": "+t._s(t._f("formatDate")(a.published_date,"DD.MM.YY")))]),s("div",{staticClass:"news_slider_label"},[t._v(" "+t._s(a.translations.find(({locale:s})=>s===t.$i18n.locale).title)+" ")]),s("div",{staticClass:"news_slider_text"},[t._v(" "+t._s(a.translations.find(({locale:s})=>s===t.$i18n.locale).anons)+" ")]),s("router-link",{staticClass:"news_slider_btn_more",attrs:{to:{name:"news-item",params:{id:a.id}},exact:""}},[s("span",[t._v(t._s(t.$t("show_more")))])])],1)])])})),1)],1)])},l=[],o=a("0a63"),r={name:"SliderNews",components:{Carousel:o["Carousel"],Slide:o["Slide"]},data(){return{manualNavigation:0,news:[]}},methods:{nextPage(){this.manualNavigation=this.manualNavigation>=this.news.length-1?0:this.manualNavigation+1},prevPage(){this.manualNavigation=this.manualNavigation<=0?this.manualNavigation=this.news.length-1:this.manualNavigation-1}},mounted(){this.$http.get(API_ROOT+"/api/news?on_index=true").then(({data:t})=>{this.news=t}).catch(t=>{console.log(t)})}},_=r,c=a("2877"),d=Object(c["a"])(_,n,l,!1,null,"43e866c2",null),h=d.exports,w={name:"News",components:{SliderNews:h},data(){return{news:[],currentPage:1,totalPages:null,perPage:null,nextPageApiUrl:null,currentLocale:this.$i18n.locale}},methods:{dataFromApi(t){this.currentPage=t.current_page,this.totalPages=t.total,this.perPage=t.per_page,this.nextPageApiUrl=t.next_page_url},loadMore(){this.$http.get(this.nextPageApiUrl).then(({data:t})=>{this.news=[...this.news,...t.data],this.dataFromApi(t)}).catch(t=>{console.log(t)})},sort(t){const s="newest"===t.target.id?{sort_by:"published_date",sort_order:"desc"}:{sort_by:"views",sort_order:"desc"};this.$http.get(API_ROOT+"/api/news",{params:s}).then(({data:t})=>{this.news=t.data,this.dataFromApi(t)}).catch(t=>{console.log(t)})},getImagePath(t){return API_ROOT+t}},mounted(){this.$http.get(API_ROOT+"/api/news").then(({data:t})=>{this.news=t.data,this.dataFromApi(t)}).catch(t=>{console.log(t)})}},u=w,g=Object(c["a"])(u,e,i,!1,null,"1925f69e",null);s["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0b8a87.348bb5ed.js.map