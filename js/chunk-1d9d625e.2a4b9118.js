(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d9d625e"],{"120d":function(e,t,s){},"372f":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"overview"},["course"===e.data.type?t("div",{staticClass:"overview_title"},[e._v(" "+e._s(e.data.title)+" ")]):t("div",{staticClass:"chapter",on:{click:function(t){return e.$router.back()}}},[t("img",{attrs:{src:s("9ebb"),alt:"arrow-left"}}),e._v(" "+e._s(e.data.title)+" ")]),t("div",{staticClass:"overview_list"},[e._l(e.data.menu,(function(s,i){return t("div",["module"!==s.type?t("div",{staticClass:"overview_item",class:{active:e.currentStage.index===i&&"stage"===e.currentStage.type},on:{click:function(t){return e.onChangeStage(i,"stage")}}},[t("div",{staticClass:"name"},[e._v(" "+e._s(s.name)+" ")])]):e._l(s.modules,(function(s,i){return t("div",{staticClass:"overview_item",class:{active:e.currentStage.index===i&&"module"===e.currentStage.type},on:{click:function(t){return e.onChangeStage(i,"module")}}},[t("div",{staticClass:"name"},[e._v(" "+e._s(s.title)+" ")])])}))],2)})),e.data.topics?e._l(e.data.topics,(function(s,i){return t("div",{staticClass:"topic",class:{active:i===e.currentTopicIndex},on:{click:function(t){return e.toggleTopic(i)}}},[t("div",{staticClass:"topic_header"},[t("div",{staticClass:"name"},[e._v(" "+e._s(s.name)+" ")]),t("div",{staticClass:"icon"},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M3.75 7.5L10 13.75L16.25 7.5",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),e.currentStage.index>=0?t("div",{staticClass:"topic_body"},[e._l(s["materials"],(function(s,r){return t("div",{staticClass:"topic_item",class:{active:e.currentStage.chapterIndex===r&&e.currentTopicIndex===e.currentStage.index&&"chapter"===e.currentStateType},on:{click:function(t){return t.stopPropagation(),e.onChangeStage(i,"chapter",r)}}},["text"===s.type?t("div",{staticClass:"icon"},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M16.875 3.75H3.125C2.77982 3.75 2.5 4.02982 2.5 4.375V15.625C2.5 15.9702 2.77982 16.25 3.125 16.25H16.875C17.2202 16.25 17.5 15.9702 17.5 15.625V4.375C17.5 4.02982 17.2202 3.75 16.875 3.75Z",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M5.9375 7.5H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M5.9375 10H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M5.9375 12.5H14.0625",stroke:"#0B1F35","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]):"audio"===s.type?t("div",{staticClass:"icon"},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M1.66602 4.16683C1.66602 3.70659 2.03911 3.3335 2.49935 3.3335H17.4993C17.9596 3.3335 18.3327 3.70659 18.3327 4.16683V15.8335C18.3327 16.2937 17.9596 16.6668 17.4993 16.6668H2.49935C2.03911 16.6668 1.66602 16.2937 1.66602 15.8335V4.16683Z",stroke:"#0B1F35","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M15 3.3335V16.6668",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M5 3.3335V16.6668",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M15.834 7.5H18.334",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M15.834 12.5H18.334",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M1.66602 7.5H4.16602",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M1.66602 12.5H4.16602",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M8.75 7.9165L12.0833 9.99984L8.75 12.0832V7.9165Z",stroke:"#0B1F35","stroke-linejoin":"round"}})])]):"presentation"===s.type?t("div",{staticClass:"icon"},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M1.66602 3.3335H18.3327",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.33398 3.3335H16.6673V14.1668H3.33398V3.3335Z",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M12.916 7.5L14.166 8.75L12.916 10",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M7.08398 10L5.83398 8.75L7.08398 7.5",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M6.66602 17.4998L9.99935 14.1665L13.3327 17.4998",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])]):e._e(),t("div",{staticClass:"text"},[e._v(" "+e._s(s.title)+" ")])])})),e._l(s["quizzes"],(function(s,r){return t("div",{staticClass:"topic_item",class:{active:e.currentStage.chapterIndex===r&&e.currentTopicIndex===e.currentStage.index&&"quiz"===e.currentStateType},on:{click:function(t){return t.stopPropagation(),e.onChangeStage(i,"quiz",r)}}},[t("div",{staticClass:"icon"},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M7.5 16.8749H3.75C3.58424 16.8749 3.42527 16.8091 3.30806 16.6918C3.19085 16.5746 3.125 16.4157 3.125 16.2499V12.7588C3.125 12.6767 3.14117 12.5954 3.17258 12.5196C3.20398 12.4438 3.25002 12.3749 3.30806 12.3168L12.6831 2.94185C12.8003 2.82464 12.9592 2.75879 13.125 2.75879C13.2908 2.75879 13.4497 2.82464 13.5669 2.94185L17.0581 6.43296C17.1753 6.55017 17.2411 6.70915 17.2411 6.87491C17.2411 7.04067 17.1753 7.19964 17.0581 7.31685L7.5 16.8749Z",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M10.625 5L15 9.375",stroke:"#0B1F35","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("div",{staticClass:"text"},[e._v(" "+e._s(s.title)+" ")])])}))],2):e._e()])})):e._e()],2)])},r=[],n={props:["data","currentStage"],data(){return{currentTopicIndex:0,currentStateType:"chapter"}},watch:{"currentStage.index"(e){this.changeRouteQuery(this.currentStage.index,this.currentStage.type,this.currentStage.chapterIndex),this.data.topics&&(this.currentTopicIndex=e)}},methods:{toggleTopic(e){this.currentTopicIndex===e?this.currentTopicIndex=-1:this.currentTopicIndex=e},onChangeStage(e,t,s=null){this.currentStateType=t,this.changeRouteQuery(e,t,s),this.$emit("currentMenu",{index:e,type:t,chapterIndex:s})},changeRouteQuery(e,t,s=null){let i={page:e,type:t};s&&(i.chapter=s),this.$router.replace({query:i}).catch(()=>{})}}},o=n,a=(s("efe0"),s("2877")),c=Object(a["a"])(o,i,r,!1,null,"34ad3ab5",null);t["a"]=c.exports},8120:function(e,t,s){"use strict";s("cc60")},"9ebb":function(e,t,s){e.exports=s.p+"img/arrow-left-chapter.a3984594.svg"},cc60:function(e,t,s){},eb4c:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"course"},[t("div",{staticClass:"course_body"},[e.quiz&&!e.loading?t("div",{staticClass:"theme_one_exercises_desc"},[e.error&&e.success?t("div",{staticClass:"theme_one_exercises_desc_text_container"},[t("div",{staticClass:"theme_one_desc_test w-100",staticStyle:{height:"400px"}},[t("div",{staticClass:"theme_one_modal_result_bad"},[t("div",{staticClass:"theme_one_modal_bad_text_block"},[t("div",{staticClass:"theme_one_modal_bad_result_text"},[e._v(e._s(e.$t("Data_not_found")))]),t("div",{staticClass:"theme_one_modal_bad_result_btn"},[e._v(e._s(e.$t("Try_again")))])]),t("div",{staticClass:"theme_one_modal_result_img"})])])]):t("div",{staticClass:"theme_one_exercises_desc_text_container"},[e.success?t("div",{staticClass:"theme_one_modal_save_result"},[t("div",{staticClass:"theme_one_modal_result_text"},[e._v(e._s(e.$t("Response_saved_successfully")))]),t("div",{staticClass:"theme_one_modal_result_img"})]):e._e(),e.finished&&e.result<e.quiz.passing_score?t("div",{staticClass:"theme_one_modal_result_bad"},[t("div",{staticClass:"theme_one_modal_bad_text_block"},[t("div",{staticClass:"theme_one_modal_bad_result_text w-100"},[t("h5",[e._v(e._s(e.$t("Sorry_you_did_not_pass_the_test")))]),t("br"),t("h6",[e._v(e._s(e.$t("Your_score"))+": "+e._s(e.percent)+"%. Вы набрали "+e._s(e.result)+" из "+e._s(e.max_score)+" баллов. "),t("br"),t("br"),e._v(" Проходной балл "+e._s(e.passing_score))])]),t("div",{staticClass:"theme_one_modal_bad_result_btn pointer",on:{click:e.reloadExercise}},[e._v(e._s(e.$t("try_again")))])])]):e._e(),e.finished&&e.result>=e.quiz.passing_score?t("div",{staticClass:"theme_one_modal_result_good"},[t("div",{staticClass:"theme_one_modal_result_text"},[e._v(" "+e._s(e.$t("Congratulations!_You_have_passed_the_test"))+" "),t("br"),t("br"),e._v(" "+e._s(e.$t("Your_score"))+": "+e._s(e.percent)+"%. Вы набрали "+e._s(e.result)+" из "+e._s(e.max_score)+" баллов. Проходной балл "+e._s(e.passing_score)+" ")])]):e._e(),t("div",{staticClass:"theme_one_desc_title_green"},[e._v(e._s(e.finished?"Результаты теста: ":"")+e._s(e.quiz.title))]),t("div",{staticClass:"theme_one_desc_test w-100"},[e.error?t("div",{staticClass:"theme_one_modal_result_bad"},[t("div",{staticClass:"theme_one_modal_bad_text_block"},[t("div",{staticClass:"theme_one_modal_bad_result_text"},[e._v(e._s(e.$t("An_error_has_occurred")))]),t("div",{staticClass:"theme_one_modal_bad_result_btn"},[e._v(e._s(e.$t("Try_again")))])]),t("div",{staticClass:"theme_one_modal_result_img"})]):t("div",[e.currentQuestion&&e.currentQuestion.text?t("div",{staticClass:"theme_one_desc_text",domProps:{innerHTML:e._s(e.currentQuestion.text)}}):e._e(),e.currentQuestion&&e.currentQuestion.file?t("div",["audio"===e.currentQuestion.file.type?t("audio",{attrs:{src:e.apiRoot+e.currentQuestion.file.path,controls:""}}):e._e()]):e._e(),e.currentQuestion&&e.currentQuestion.file?t("div",{staticClass:"mb-5 w-100 text-center"},["file"===e.currentQuestion.file.type?t("a",{staticClass:"theme_one_desc_download",attrs:{href:e.apiRoot+e.currentQuestion.file.path,target:"_blank"}},[e._v(" "+e._s(e.$t("Download_file"))+" ")]):e._e()]):e._e(),e.currentQuestion&&"TYPE_SINGLE"===e.currentQuestion.type||e.currentQuestion&&"TYPE_MULTIPLE"===e.currentQuestion.type?t("div",{staticClass:"my_courses_list_radio_block"},e._l(e.currentQuestion.answers,(function(s){return e.currentQuestion&&e.currentQuestion.answers?t("div",{staticClass:"my_courses_radio_item"},["TYPE_SINGLE"===e.currentQuestion.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedAnswer,expression:"selectedAnswer"}],staticClass:"my_courses_list_radio",attrs:{id:"answer"+s.id,type:"radio",name:"answer[]"},domProps:{value:s.id,checked:e._q(e.selectedAnswer,s.id)},on:{change:function(t){e.selectedAnswer=s.id}}}):e._e(),"TYPE_MULTIPLE"===e.currentQuestion.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedAnswer,expression:"selectedAnswer"}],staticClass:"my_courses_list_radio",attrs:{id:"answer"+s.id,type:"checkbox",name:"answer[]"},domProps:{value:s.id,checked:Array.isArray(e.selectedAnswer)?e._i(e.selectedAnswer,s.id)>-1:e.selectedAnswer},on:{change:function(t){var i=e.selectedAnswer,r=t.target,n=!!r.checked;if(Array.isArray(i)){var o=s.id,a=e._i(i,o);r.checked?a<0&&(e.selectedAnswer=i.concat([o])):a>-1&&(e.selectedAnswer=i.slice(0,a).concat(i.slice(a+1)))}else e.selectedAnswer=n}}}):e._e(),t("label",{staticClass:"my_courses_radio_label pointer pt-3",attrs:{for:"answer"+s.id},domProps:{innerHTML:e._s(s.text)}})]):e._e()})),0):t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedAnswerRaw,expression:"selectedAnswerRaw"}],staticClass:"form-control mb-5",domProps:{value:e.selectedAnswerRaw},on:{input:function(t){t.target.composing||(e.selectedAnswerRaw=t.target.value)}}})])])]),e.finished?e._e():t("div",{staticClass:"theme_one_desc_btn"},[e.firstQuestion?e._e():t("a",{staticClass:"theme_one_desc_btn_back pointer",on:{click:e.prev}},[e._v(e._s(e.$t("Back")))]),e.lastQuestion?e._e():t("a",{staticClass:"theme_one_desc_btn_next pointer",on:{click:e.next}},[e._v(e._s(e.$t("Further")))]),e.lastQuestion?t("a",{staticClass:"theme_one_desc_btn_next pointer",on:{click:e.finish}},[e._v(e._s(e.$t("Finish")))]):e._e()])])]):t("div",{staticClass:"theme_one_exercises_desc"},[e._m(0)])]),t("div",{staticClass:"side-test"},[t("div",{staticClass:"side-test_header",on:{click:function(t){return e.$router.back()}}},[t("img",{attrs:{src:s("9ebb"),alt:"arrow-left"}}),e._v(" Модуль 1 ")]),t("div",{staticClass:"side-test_body"},e._l(e.quiz.questions,(function(s,i){return t("div",{key:"q-"+s.id,staticClass:"side-test_item",class:{active:e.currentQuestionId+1===s.id},on:{click:function(t){e.currentQuestionId=s.id-1}}},[e._v(" "+e._s(i+1)+" ")])})),0)])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"theme_one_exercises_loading"},[t("i",{staticClass:"el-icon-loading"})])}],n=(s("14d9"),s("2b0e")),o=s("372f"),a={name:"CourseExercise",components:{SideMenu:o["a"]},data(){return{sidemenu:{index:0,type:"stage",chapterIndex:null},stages:[{type:"about",name:"О курсе",text:"lorem"}],finished:!1,results:[],result:0,percent:0,passing_score:0,max_score:0,success:!1,error:!1,quiz:null,loading:!1,apiRoot:window.API_ROOT,selectedAnswer:[],selectedAnswerRaw:null,currentQuestionId:0,course:!1}},methods:{getQuiz(){let e=this.$route.params.slug,t=this.$route.params.quiz;this.$http.get(`${this.apiRoot}/api/course/${e}/quiz/${t}`).then(e=>{this.quiz=e.body,this.loading=!1}).catch(e=>console.log(e)).finally(()=>{this.loading=!1})},async getCourseDetails(){let e=API_ROOT,t=this.$route.params.slug;await this.$http.get(`${e}/api/course/${t}`).then(e=>{var t,s,i;(this.course=null===e||void 0===e?void 0:e.body,this.stages.push({type:"module",modules:null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.modules}),null!==e&&void 0!==e&&null!==(s=e.body)&&void 0!==s&&s.quiz)&&this.stages.push({name:"Итоговое тестирование",type:"final",quiz:null===e||void 0===e||null===(i=e.body)||void 0===i?void 0:i.quiz})}).catch(e=>{404===e.status&&this.$router.push({name:"not-found"}),console.log(e)}).finally(()=>{})},saveAnswer(){let e=null!==this.selectedAnswerRaw?{answer:this.selectedAnswerRaw,answer_raw:this.selectedAnswerRaw,question_id:this.currentQuestion.id,quiz_id:this.quiz.id}:{answer:this.selectedAnswer,question_id:this.currentQuestion.id,quiz_id:this.quiz.id};this.$http.post(this.apiRoot+"/api/course/quiz/answer/store",e).then(e=>{}).catch(e=>{}).finally(()=>{})},prev(){this.currentQuestionId&&(("null"!==this.selectedAnswerRaw||this.selectedAnswer.length)&&this.saveAnswer(),this.currentQuestionId--,this.error=!1,this.success=!1,this.selectedAnswer=[],this.selectedAnswerRaw=null)},next(){if("object"==typeof this.selectedAnswer&&0==this.selectedAnswer.length&&(this.selectedAnswer=""),this.selectedAnswer)return console.log(this.selectedAnswer),this.saveAnswer(),this.currentQuestionId++,this.error=!1,this.success=!1,this.selectedAnswer=[],void(this.selectedAnswerRaw=null);n["default"].toastr({description:"Необходимо выбрать ответ",type:"error"})},finish(){"object"==typeof this.selectedAnswer&&0==this.selectedAnswer.length&&(this.selectedAnswer=""),this.selectedAnswer?(this.saveAnswer(),"DEFAULT"===this.quiz.mode?this.$http.get(`${this.apiRoot}/api/course/quiz/get-user-answers/${this.quiz.id}`).then(e=>{this.results=e.body.data,this.result=e.body.result,this.passing_score=e.body.passing_score,this.percent=e.body.percent,this.max_score=e.body.max_score,this.error=!1,this.success=!1,this.finished=!0,this.$router.back()}).catch(e=>{n["default"].toastr({message:"Error",description:"Не удалось завершить тест",type:"error"})}).finally(()=>{}):this.$router.push({name:"course-module",params:{slug:this.$route.params.slug,module:this.currentModuleId}})):n["default"].toastr({description:"Необходимо выбрать ответ",type:"error"})},currentMenu(e){if(this.sidemenu.index=e.index,this.sidemenu.type=e.type,this.chapterIndex=e.chapterIndex,"stage"===e.type)this.currentStageData=this.stages[e.index];else if("module"===e.type){const t=this.stages.findIndex(e=>"module"===e.type);this.currentStageData=this.stages[t],this.currentModuleData=this.stages[t].modules[e.index]}},reloadExercise(){window.location.reload()}},computed:{currentQuestion(){if(this.quiz["questions"])return this.quiz["questions"].find((e,t)=>t==this.currentQuestionId)},currentModule:function(){return!!(this.course&&this.course.modules&&this.quiz.owner)&&this.course.modules.find(e=>e.id===this.quiz.owner.id)},currentModuleId:function(){if(this.quiz&&this.quiz.owner)return this.quiz.owner.id},firstQuestion:function(){return 0==this.currentQuestionId},lastQuestion:function(){return!!this.quiz&&this.currentQuestionId+1===this.quiz["questions"].length},getMenuData(){return{title:this.course.title,type:"course",menu:this.stages,topics:null}}},async mounted(){await this.getCourseDetails(),this.currentMenu(this.sidemenu),this.getQuiz()},beforeRouteUpdate(e,t,s){s(),this.getCourseDetails(),this.currentMenu(this.sidemenu),this.getQuiz()}},c=a,d=(s("8120"),s("2877")),u=Object(d["a"])(c,i,r,!1,null,"07e1557a",null);t["default"]=u.exports},efe0:function(e,t,s){"use strict";s("120d")}}]);
//# sourceMappingURL=chunk-1d9d625e.2a4b9118.js.map