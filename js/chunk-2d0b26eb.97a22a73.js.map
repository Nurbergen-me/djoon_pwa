{"version":3,"sources":["webpack:///./src/views/old/Courses/CourseExercise.vue","webpack:///src/views/old/Courses/CourseExercise.vue","webpack:///./src/views/old/Courses/CourseExercise.vue?a1aa","webpack:///./src/views/old/Courses/CourseExercise.vue?3284"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","course","title","attrs","name","params","slug","$route","module","currentModuleId","$t","_l","currentModule","themes","theme","_e","quizzes","quiz","staticStyle","id","error","success","finished","result","passing_score","percent","max_score","on","reloadExercise","currentQuestion","text","domProps","file","type","apiRoot","path","answers","answer","directives","rawName","value","selectedAnswer","expression","_q","$event","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","selectedAnswerRaw","composing","firstQuestion","prev","lastQuestion","next","finish","staticRenderFns","data","results","currentQuestionId","methods","getQuiz","then","catch","finally","getCourseDetails","saveAnswer","answer_raw","question_id","quiz_id","console","Vue","description","message","window","computed","mounted","beforeRouteUpdate","component"],"mappings":"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GACf5D,sBACA6D,OACA,OACA3C,YACA4C,WACA3C,SACAE,UACAD,gBACAE,YACAL,WACAD,SACAH,QACAiB,wBACAO,kBACAgB,uBACAU,oBACAlE,YAGAmE,SACAC,UACA,8BACA,0BACA,4DACAC,SACA,mBAEAC,yBACAC,iBAIAC,mBACA,8BACA,kDACAH,SACA,qBAEAC,yBACAC,iBAIAE,aACA,qCACArC,8BACAsC,kCACAC,oCACAC,sBACA,CACAxC,2BACAuC,oCACAC,sBAEA,4EAOA,aAQAL,iBAGAZ,OACA,0BACA,8DACA,kBAEA,yBACA,cACA,gBACA,uBACA,8BAEAE,OAMA,GALA,sCACA,gCACA,wBAGA,oBAQA,OAPAgB,iCACA,kBACA,yBACA,cACA,gBACA,4BACA,6BAGAC,qBACAC,uCACA/C,gBAGA8B,SACA,sCACA,gCACA,wBAGA,qBACA,kBASA,2BACA,mFACAO,SACA,yBACA,0BACA,wCACA,4BACA,gCACA,cACA,gBACA,mBACA,UACAS,qBACAE,gBACAD,wCACA/C,iBAGAuC,gBAGA,mBACApE,qBACAC,QACAC,6BACAE,gCA/BAuE,qBACAC,uCACA/C,gBAkCAL,iBACAsD,2BAGAC,UACAtD,kBACA,uBAGA,uCACA,4BAGAjB,yBACA,6DACA,wDAEAH,2BACA,8BAEA,2BAEAkD,yBACA,kCAEAE,wBACA,+DAGAuB,UACA,wBACA,gBAEAC,yBACAvB,IACA,wBACA,iBCvUsX,I,YCOlXwB,EAAY,eACd,EACA7F,EACAuE,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-2d0b26eb.97a22a73.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"theme_one_block\"},[_c('div',{staticClass:\"theme_one_header_block\"},[_c('div',{staticClass:\"theme_one_header_container\"},[_c('div',{staticClass:\"theme_one_header_label\"},[_vm._v(\" \"+_vm._s(_vm.course.title)+\" \")])])]),_c('div',{staticClass:\"theme_one_main_block\"},[_c('div',{staticClass:\"theme_one_main_container\"},[_c('div',{staticClass:\"theme_one_content_container\"},[_c('router-link',{staticClass:\"theme_one_content_container_btn_back\",attrs:{\"to\":{ name: 'course-module', params: { slug: _vm.$route.params.slug, module: _vm.currentModuleId } }}},[_c('div',{staticClass:\"theme_one_content_container_btn_text\"},[_vm._v(_vm._s(_vm.$t('Back')))])]),_c('div',{staticClass:\"theme_one_plot\"},_vm._l((_vm.currentModule.themes),function(theme){return (_vm.currentModule && _vm.currentModule.themes)?_c('div',{staticClass:\"theme_one_plot_theme\"},[_c('div',{staticClass:\"theme_one_plot_theme_active_label\"},[_vm._v(_vm._s(theme.name))])]):_vm._e()}),0),(_vm.currentModule && _vm.currentModule.quizzes)?_c('div',{staticClass:\"theme_one_plot\"},[_c('div',{staticClass:\"theme_one_plot_theme_active\"},[_c('div',{staticClass:\"theme_one_plot_theme_active_label\"},[_vm._v(_vm._s(_vm.$t('Testing')))]),_vm._l((_vm.currentModule.quizzes),function(quiz){return _c('router-link',{staticClass:\"theme_one_plot_theme_item exercise\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{ name: 'course-exercise', params: { slug: _vm.$route.params.slug, quiz: quiz.id } }}},[_vm._v(\" \"+_vm._s(quiz.title)+\" \")])})],2)]):_vm._e()],1),_c('div',{staticClass:\"theme_one_exercises_desc\"},[(!(_vm.error && _vm.success))?_c('div',{staticClass:\"theme_one_exercises_desc_text_container\"},[(_vm.success)?_c('div',{staticClass:\"theme_one_modal_save_result\"},[_c('div',{staticClass:\"theme_one_modal_result_text\"},[_vm._v(_vm._s(_vm.$t('Response_saved_successfully')))]),_c('div',{staticClass:\"theme_one_modal_result_img\"})]):_vm._e(),(_vm.finished && _vm.result < _vm.quiz.passing_score)?_c('div',{staticClass:\"theme_one_modal_result_bad\"},[_c('div',{staticClass:\"theme_one_modal_bad_text_block\"},[_c('div',{staticClass:\"theme_one_modal_bad_result_text w-100\"},[_c('h5',[_vm._v(_vm._s(_vm.$t('Sorry_you_did_not_pass_the_test')))]),_c('br'),_c('h6',[_vm._v(_vm._s(_vm.$t('Your_score'))+\": \"+_vm._s(_vm.percent)+\"%. Вы набрали \"+_vm._s(_vm.result)+\" из \"+_vm._s(_vm.max_score)+\" баллов. \"),_c('br'),_c('br'),_vm._v(\" Проходной балл \"+_vm._s(_vm.passing_score))])]),_c('div',{staticClass:\"theme_one_modal_bad_result_btn pointer\",on:{\"click\":_vm.reloadExercise}},[_vm._v(_vm._s(_vm.$t('try_again')))])])]):_vm._e(),(_vm.finished && _vm.result >= _vm.quiz.passing_score)?_c('div',{staticClass:\"theme_one_modal_result_good\"},[_c('div',{staticClass:\"theme_one_modal_result_text\"},[_vm._v(\" \"+_vm._s(_vm.$t('Congratulations!_You_have_passed_the_test'))+\" \"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('Your_score'))+\": \"+_vm._s(_vm.percent)+\"%. Вы набрали \"+_vm._s(_vm.result)+\" из \"+_vm._s(_vm.max_score)+\" баллов. Проходной балл \"+_vm._s(_vm.passing_score)+\" \")])]):_vm._e(),_c('div',{staticClass:\"theme_one_desc_title\"},[_vm._v(_vm._s(_vm.finished ? 'Результаты теста: ' : '')+_vm._s(_vm.quiz.title))]),_c('div',{staticClass:\"theme_one_desc_test w-100\"},[(_vm.error)?_c('div',{staticClass:\"theme_one_modal_result_bad\"},[_c('div',{staticClass:\"theme_one_modal_bad_text_block\"},[_c('div',{staticClass:\"theme_one_modal_bad_result_text\"},[_vm._v(_vm._s(_vm.$t('An_error_has_occurred')))]),_c('div',{staticClass:\"theme_one_modal_bad_result_btn\"},[_vm._v(_vm._s(_vm.$t('Try_again')))])]),_c('div',{staticClass:\"theme_one_modal_result_img\"})]):_c('div',[(_vm.currentQuestion && _vm.currentQuestion.text)?_c('div',{staticClass:\"theme_one_desc_text\",domProps:{\"innerHTML\":_vm._s(_vm.currentQuestion.text)}}):_vm._e(),(_vm.currentQuestion && _vm.currentQuestion.file)?_c('div',[(_vm.currentQuestion.file.type === 'audio')?_c('audio',{attrs:{\"src\":_vm.apiRoot + _vm.currentQuestion.file.path,\"controls\":\"\"}}):_vm._e()]):_vm._e(),(_vm.currentQuestion && _vm.currentQuestion.file)?_c('div',{staticClass:\"mb-5 w-100 text-center\"},[(_vm.currentQuestion.file.type === 'file')?_c('a',{staticClass:\"theme_one_desc_download\",attrs:{\"href\":_vm.apiRoot + _vm.currentQuestion.file.path,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('Download_file'))+\" \")]):_vm._e()]):_vm._e(),((_vm.currentQuestion && _vm.currentQuestion.type === 'TYPE_SINGLE') || (_vm.currentQuestion && _vm.currentQuestion.type === 'TYPE_MULTIPLE'))?_c('div',{staticClass:\"my_courses_list_radio_block\"},_vm._l((_vm.currentQuestion.answers),function(answer){return (_vm.currentQuestion && _vm.currentQuestion.answers)?_c('div',{staticClass:\"my_courses_radio_item\"},[(_vm.currentQuestion.type === 'TYPE_SINGLE')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAnswer),expression:\"selectedAnswer\"}],staticClass:\"my_courses_list_radio\",attrs:{\"id\":`answer${answer.id}`,\"type\":\"radio\",\"name\":\"answer[]\"},domProps:{\"value\":answer.id,\"checked\":_vm._q(_vm.selectedAnswer,answer.id)},on:{\"change\":function($event){_vm.selectedAnswer=answer.id}}}):_vm._e(),(_vm.currentQuestion.type === 'TYPE_MULTIPLE')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAnswer),expression:\"selectedAnswer\"}],staticClass:\"my_courses_list_radio\",attrs:{\"id\":`answer${answer.id}`,\"type\":\"checkbox\",\"name\":\"answer[]\"},domProps:{\"value\":answer.id,\"checked\":Array.isArray(_vm.selectedAnswer)?_vm._i(_vm.selectedAnswer,answer.id)>-1:(_vm.selectedAnswer)},on:{\"change\":function($event){var $$a=_vm.selectedAnswer,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=answer.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedAnswer=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedAnswer=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedAnswer=$$c}}}}):_vm._e(),_c('label',{staticClass:\"my_courses_radio_label pointer pt-3\",attrs:{\"for\":`answer${answer.id}`},domProps:{\"innerHTML\":_vm._s(answer.text)}})]):_vm._e()}),0):_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAnswerRaw),expression:\"selectedAnswerRaw\"}],staticClass:\"form-control mb-5\",domProps:{\"value\":(_vm.selectedAnswerRaw)},on:{\"input\":function($event){if($event.target.composing)return;_vm.selectedAnswerRaw=$event.target.value}}})])])]),(!_vm.finished)?_c('div',{staticClass:\"theme_one_desc_btn\"},[(!_vm.firstQuestion)?_c('a',{staticClass:\"theme_one_desc_btn_back pointer\",on:{\"click\":_vm.prev}},[_vm._v(_vm._s(_vm.$t('Back')))]):_vm._e(),(!_vm.lastQuestion)?_c('a',{staticClass:\"theme_one_desc_btn_next pointer\",on:{\"click\":_vm.next}},[_vm._v(_vm._s(_vm.$t('Further')))]):_vm._e(),(_vm.lastQuestion)?_c('a',{staticClass:\"theme_one_desc_btn_next pointer\",on:{\"click\":_vm.finish}},[_vm._v(_vm._s(_vm.$t('Finish')))]):_vm._e()]):_vm._e()]):_c('div',{staticClass:\"theme_one_exercises_desc_text_container\"},[_c('div',{staticClass:\"theme_one_desc_test w-100\",staticStyle:{\"height\":\"400px\"}},[_c('div',{staticClass:\"theme_one_modal_result_bad\"},[_c('div',{staticClass:\"theme_one_modal_bad_text_block\"},[_c('div',{staticClass:\"theme_one_modal_bad_result_text\"},[_vm._v(_vm._s(_vm.$t('Data_not_found')))]),_c('div',{staticClass:\"theme_one_modal_bad_result_btn\"},[_vm._v(_vm._s(_vm.$t('Try_again')))])]),_c('div',{staticClass:\"theme_one_modal_result_img\"})])])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"theme_one_block\">\n    <div class=\"theme_one_header_block\">\n      <div class=\"theme_one_header_container\">\n        <div class=\"theme_one_header_label\">\n          {{ course.title }}\n        </div>\n      </div>\n    </div>\n    <div class=\"theme_one_main_block\">\n      <div class=\"theme_one_main_container\">\n        <div class=\"theme_one_content_container\">\n          <router-link\n            :to=\"{ name: 'course-module', params: { slug: $route.params.slug, module: currentModuleId } }\"\n            class=\"theme_one_content_container_btn_back\">\n            <div class=\"theme_one_content_container_btn_text\">{{ $t('Back') }}</div>\n          </router-link>\n          <div class=\"theme_one_plot\">\n            <div\n              v-if=\"currentModule && currentModule.themes\"\n              v-for=\"theme in currentModule.themes\"\n              class=\"theme_one_plot_theme\">\n              <div class=\"theme_one_plot_theme_active_label\">{{ theme.name }}</div>\n            </div>\n          </div>\n\n          <div class=\"theme_one_plot\" v-if=\"currentModule && currentModule.quizzes\">\n            <div class=\"theme_one_plot_theme_active\">\n              <div class=\"theme_one_plot_theme_active_label\">{{ $t('Testing') }}</div>\n              <router-link\n                class=\"theme_one_plot_theme_item exercise\"\n                style=\"text-decoration: none\"\n                :to=\"{ name: 'course-exercise', params: { slug: $route.params.slug, quiz: quiz.id } }\"\n                v-for=\"quiz in currentModule.quizzes\">\n                {{ quiz.title }}\n              </router-link>\n            </div>\n          </div>\n        </div>\n        <div class=\"theme_one_exercises_desc\">\n          <div class=\"theme_one_exercises_desc_text_container\" v-if=\"!(error && success)\">\n            <div class=\"theme_one_modal_save_result\" v-if=\"success\">\n              <div class=\"theme_one_modal_result_text\">{{ $t('Response_saved_successfully') }}</div>\n              <div class=\"theme_one_modal_result_img\">\n              </div>\n            </div>\n            <div class=\"theme_one_modal_result_bad\" v-if=\"finished && result < quiz.passing_score\">\n              <div class=\"theme_one_modal_bad_text_block\">\n                <div class=\"theme_one_modal_bad_result_text w-100\">\n                  <h5>{{ $t('Sorry_you_did_not_pass_the_test') }}</h5>\n                  <br>\n                  <h6>{{ $t('Your_score') }}: {{ percent }}%. Вы набрали {{ result }} из {{ max_score }} баллов.\n                    <br>\n                    <br>\n                    Проходной балл {{ passing_score }}</h6>\n                </div>\n                <div class=\"theme_one_modal_bad_result_btn pointer\" @click=\"reloadExercise\">{{ $t('try_again') }}</div>\n              </div>\n            </div>\n            <div class=\"theme_one_modal_result_good\" v-if=\"finished && result >= quiz.passing_score\">\n              <div class=\"theme_one_modal_result_text\">\n                {{ $t('Congratulations!_You_have_passed_the_test') }}\n                <br><br>\n                {{ $t('Your_score') }}: {{ percent }}%. Вы набрали {{ result }} из {{ max_score }} баллов. Проходной\n                балл {{ passing_score }}\n              </div>\n            </div>\n            <div class=\"theme_one_desc_title\">{{ finished ? 'Результаты теста: ' : '' }}{{ quiz.title }}</div>\n            <div class=\"theme_one_desc_test w-100\">\n              <div class=\"theme_one_modal_result_bad\" v-if=\"error\">\n                <div class=\"theme_one_modal_bad_text_block\">\n                  <div class=\"theme_one_modal_bad_result_text\">{{ $t('An_error_has_occurred') }}</div>\n                  <div class=\"theme_one_modal_bad_result_btn\">{{ $t('Try_again') }}</div>\n                </div>\n                <div class=\"theme_one_modal_result_img\"></div>\n              </div>\n\n              <div v-else>\n                <div v-if=\"currentQuestion && currentQuestion.text\" class=\"theme_one_desc_text\"\n                     v-html=\"currentQuestion.text\"></div>\n                <div v-if=\"currentQuestion && currentQuestion.file\">\n                  <audio v-if=\"currentQuestion.file.type === 'audio'\" :src=\"apiRoot + currentQuestion.file.path\"\n                         controls></audio>\n                </div>\n                <div v-if=\"currentQuestion && currentQuestion.file\" class=\"mb-5 w-100 text-center\">\n                  <a\n                    :href=\"apiRoot + currentQuestion.file.path\"\n                    v-if=\"currentQuestion.file.type === 'file'\" target=\"_blank\"\n                    class=\"theme_one_desc_download\"\n                  >\n                    {{ $t('Download_file') }}\n                  </a>\n                </div>\n                <div\n                  class=\"my_courses_list_radio_block\"\n                  v-if=\"(currentQuestion && currentQuestion.type === 'TYPE_SINGLE') || (currentQuestion && currentQuestion.type === 'TYPE_MULTIPLE')\">\n                  <div\n                    class=\"my_courses_radio_item\"\n                    v-if=\"currentQuestion && currentQuestion.answers\"\n                    v-for=\"answer in currentQuestion.answers\">\n                    <input v-if=\"currentQuestion.type === 'TYPE_SINGLE'\" v-model=\"selectedAnswer\" :value=\"answer.id\"\n                           :id=\"`answer${answer.id}`\" type=\"radio\" name=\"answer[]\" class=\"my_courses_list_radio\"/>\n                    <input v-if=\"currentQuestion.type === 'TYPE_MULTIPLE'\" v-model=\"selectedAnswer\" :value=\"answer.id\"\n                           :id=\"`answer${answer.id}`\" type=\"checkbox\" name=\"answer[]\" class=\"my_courses_list_radio\"/>\n                    <label :for=\"`answer${answer.id}`\" class=\"my_courses_radio_label pointer pt-3\"\n                           v-html=\"answer.text\"></label>\n                  </div>\n                </div>\n                <div v-else>\n                  <textarea class=\"form-control mb-5\" v-model=\"selectedAnswerRaw\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"theme_one_desc_btn\" v-if=\"!finished\">\n              <!--              <a @click=\"saveAnswer\" class=\"theme_one_desc_btn_back pointer\">{{ $t('Save_answer') }}</a>-->\n              <a v-if=\"!firstQuestion\" @click=\"prev\" class=\"theme_one_desc_btn_back pointer\">{{ $t('Back') }}</a>\n              <a v-if=\"!lastQuestion\" @click=\"next\" class=\"theme_one_desc_btn_next pointer\">{{ $t('Further') }}</a>\n              <a v-if=\"lastQuestion\" @click=\"finish\" class=\"theme_one_desc_btn_next pointer\">{{ $t('Finish') }}</a>\n            </div>\n          </div>\n          <div class=\"theme_one_exercises_desc_text_container\" v-else>\n            <div class=\"theme_one_desc_test w-100\" style=\"height: 400px\">\n              <div class=\"theme_one_modal_result_bad\">\n                <div class=\"theme_one_modal_bad_text_block\">\n                  <div class=\"theme_one_modal_bad_result_text\">{{ $t('Data_not_found') }}</div>\n                  <div class=\"theme_one_modal_bad_result_btn\">{{ $t('Try_again') }}</div>\n                </div>\n                <div class=\"theme_one_modal_result_img\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\n\nexport default {\n  name: \"CourseExercise\",\n  data() {\n    return {\n      finished: false,\n      results: [],\n      result: 0,\n      percent: 0,\n      passing_score: 0,\n      max_score: 0,\n      success: false,\n      error: false,\n      quiz: false,\n      apiRoot: window.API_ROOT,\n      selectedAnswer: [],\n      selectedAnswerRaw: null,\n      currentQuestionId: 0,\n      course: false,\n    }\n  },\n  methods: {\n    getQuiz() {\n      let slug = this.$route.params.slug\n      let quiz = this.$route.params.quiz\n      this.$http.get(`${this.apiRoot}/api/course/${slug}/quiz/${quiz}`)\n        .then(res => {\n          this.quiz = res.body\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n\n        })\n    },\n    getCourseDetails() {\n      let slug = this.$route.params.slug\n      this.$http.get(`${this.apiRoot}/api/course/${slug}`)\n        .then(res => {\n          this.course = res.body\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n\n        })\n    },\n    saveAnswer() {\n      let params = (this.selectedAnswerRaw !== null) ? {\n        answer: this.selectedAnswerRaw,\n        answer_raw: this.selectedAnswerRaw,\n        question_id: this.currentQuestion.id,\n        quiz_id: this.quiz.id\n      } : {\n        answer: this.selectedAnswer,\n        question_id: this.currentQuestion.id,\n        quiz_id: this.quiz.id\n      }\n      this.$http.post(`${this.apiRoot}/api/course/quiz/answer/store`, params).then(res => {\n        // if (res.body.message === 'saved')\n        // this.success = true\n\n        // setTimeout(() => {\n        //   this.success = false\n        // }, 1000)\n      }).catch(err => {\n        // if (err.body.message === 'not_saved')\n        // this.error = true\n\n        // setTimeout(() => {\n        //   this.error = false\n        // }, 1000)\n      })\n        .finally(() => {\n        })\n    },\n    prev() {\n      if (!this.currentQuestionId) return;\n      if (this.selectedAnswerRaw !== 'null' || this.selectedAnswer.length) {\n        this.saveAnswer();\n      }\n      this.currentQuestionId--\n      this.error = false\n      this.success = false\n      this.selectedAnswer = []\n      this.selectedAnswerRaw = null\n    },\n    next() {\n      if (typeof this.selectedAnswer == 'object') {\n        if (this.selectedAnswer.length == 0) {\n          this.selectedAnswer = ''\n        }\n      }\n      if (this.selectedAnswer) {\n        console.log(this.selectedAnswer)\n        this.saveAnswer();\n        this.currentQuestionId++\n        this.error = false\n        this.success = false\n        this.selectedAnswer = []\n        this.selectedAnswerRaw = null\n        return\n      }\n      Vue.toastr({\n        description: 'Необходимо выбрать ответ',\n        type: 'error'\n      })\n    },\n    finish() {\n      if (typeof this.selectedAnswer == 'object') {\n        if (this.selectedAnswer.length == 0) {\n          this.selectedAnswer = ''\n        }\n      }\n      if (this.selectedAnswer) {\n        this.saveAnswer();\n      }\n      else{\n        Vue.toastr({\n          description: 'Необходимо выбрать ответ',\n          type: 'error'\n        })\n        return\n      }\n      if (this.quiz.mode === 'DEFAULT') {\n        this.$http.get(`${this.apiRoot}/api/course/quiz/get-user-answers/${this.quiz.id}`)\n          .then(res => {\n            this.results = res.body.data\n            this.result = res.body.result\n            this.passing_score = res.body.passing_score\n            this.percent = res.body.percent\n            this.max_score = res.body.max_score\n            this.error = false\n            this.success = false\n            this.finished = true\n          }).catch(err => {\n          Vue.toastr({\n            message: 'Error',\n            description: 'Не удалось завершить тест',\n            type: 'error'\n          })\n        })\n          .finally(() => {\n          })\n      } else {\n        this.$router.push({\n          name: 'course-module',\n          params: {\n            slug: this.$route.params.slug,\n            module: this.currentModuleId\n          }\n        })\n      }\n    },\n    reloadExercise() {\n      window.location.reload()\n    },\n  },\n  computed: {\n    currentQuestion() {\n      if (!this.quiz.questions) {\n        return;\n      }\n      return this.quiz.questions.find((question, key) => {\n        return key == this.currentQuestionId;\n      })\n    },\n    currentModule: function () {\n      if (!(this.course && this.course.modules && this.quiz.owner)) return false;\n      return this.course.modules.find(module => module.id === this.quiz.owner.id)\n    },\n    currentModuleId: function () {\n      if (!(this.quiz && this.quiz.owner))\n        return;\n      return this.quiz.owner.id\n    },\n    firstQuestion: function () {\n      return this.currentQuestionId == 0;\n    },\n    lastQuestion: function () {\n      return this.currentQuestionId + 1 === this.quiz.questions.length;\n    }\n  },\n  mounted() {\n    this.getCourseDetails()\n    this.getQuiz()\n  },\n  beforeRouteUpdate(to, from, next) {\n    next()\n    this.getCourseDetails()\n    this.getQuiz()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseExercise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseExercise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CourseExercise.vue?vue&type=template&id=280b54cc&scoped=true&\"\nimport script from \"./CourseExercise.vue?vue&type=script&lang=js&\"\nexport * from \"./CourseExercise.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"280b54cc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}